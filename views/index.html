<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>More APIs</title>
	<script src="/javascripts/jquery-2.1.3.js" type="text/javascript"></script>
	<script src="/javascripts/bootstrap.js" type="text/javascript"></script>
	<script src="/javascripts/handlebars-v2.0.0.js" type="text/javascript"></script>
	<script src="/javascripts/ember-1.9.1.js" type="text/javascript"></script>
	<script src="/javascripts/ember-data.js" type="text/javascript"></script>
	
	<script src="/javascripts/application.js" type="text/javascript"></script>
	<script src="/javascripts/router.js" type="text/javascript"></script>
	<script src="/javascripts/models/api.js" type="text/javascript"></script>
	<script src="/javascripts/controllers/api_controller.js" type="text/javascript"></script>

	<link rel="stylesheet" href="stylesheets/style.css" type="text/css"></link>
	<link rel="stylesheet" href="stylesheets/bootstrap.min.css" type="text/css"></link>
</head>
<body>
	<div class="container">
		<div class="row">
			<h2 class="text-center">More APIs</h2>
		</div>
	</div>
	<script type="text/x-handlebars" data-template-name="apis">
		<div class="row form-group" id="api-list">
			{{#each api in model itemController="api"}}
				{{#if api.editing}}
					<div class="col-xs-12 form-group">
						<label class="col-xs-2">Title</label>
						<div class="col-xs-10">
							{{ input type="text" class="form-control" value=api.title placeholder="Title" }}
						</div>
					</div>
					<div class="col-xs-12 form-group">
						<label class="col-xs-2">Url</label>
						<div class="col-xs-10">
							{{ input type="text" class="form-control" value=api.url placeholder="Url" }}
						</div>
					</div>
					<div class="col-xs-12 form-group">
						<label class="col-xs-2">Command</label>
						<div class="col-xs-10">
							{{ textarea class="form-control col-xs-10" placeholder="Command" value=api.command }}
						</div>
					</div>
					<div class="col-xs-12 form-group">
						<label class="col-xs-2">Result</label>
						<div class="col-xs-10">
							Result
						</div>
					</div>
					<div class="col-xs-12 form-group">
						<div class="col-xs-2 col-xs-offset-2">
							<button class="form-control btn-primary" {{ action "tryApi" on="click" }}>try</button>
						</div>
						<div class="col-xs-2">
							<button class="form-control btn-primary" {{ action "saveApi" on="click" }}>save</button>
						</div>
						<div class="col-xs-2">
							<button class="form-control btn-primary" {{ action "cancelApi" on="click" }}>cancel</button>
						</div>
					</div>

				{{ else }}
					<div class="col-xs-12">
						<strong>{{ api.title }}</strong>
						<button class="btn btn-primary btn-xs" {{action "editApi" on="click"}}>Edit</button>
					</div>
					<div class="col-xs-12">
						Result
					</div>
				{{/if}}
			{{/each}}
			<button class="btn btn-primary btn-large" {{ action "createApi" on="click" }}>create</button>
		</div>
	</script>
<!--<hr/>
	<div class="container">
		<div class="row">
			<h2 class="text-center">More APIs</h2>
		</div>

		<div class="row form-group">
			<div class="col-xs-12">
				<strong>MacBook Pro 15</strong>
				<button class="btn btn-primary btn-xs">Edit</button>
			</div>
			<div class="col-xs-12">
				Result
			</div>
		</div>
		
		<div class="row">
			<div class="col-xs-12 form-group">
				<label class="col-xs-2">Title</label>
				<div class="col-xs-10">
					<input class="form-control" value="Mac Book Pro 15" placeholder="Title"/>
				</div>
			</div>
			<div class="col-xs-12 form-group">
				<label class="col-xs-2">Url</label>
				<div class="col-xs-10">
					<input class="form-control" type="text" value="url" placeholder="Url"/>
				</div>
			</div>
			<div class="col-xs-12 form-group">
				<label class="col-xs-2">Command</label>
				<div class="col-xs-8">
					<textarea class="form-control col-xs-10" placeholder="Command">command</textarea>
				</div>
				<div class="col-xs-2">
					<button class="form-control btn-primary">try</button>
				</div>
			</div>
			<div class="col-xs-12 form-group">
				<label class="col-xs-2">Result</label>
				<div class="col-xs-10">
					Result
				</div>
			</div>
		</div>
	</div>
	<script type="text/javascript">
		var moreapi = {
			el: "#moreapi",
			data: {
				url: "http://store.apple.com/hk-zh/browse/home/specialdeals/mac/macbook_pro/15",
				js: "",
				result: "df",
			},
			methods: {
				send_js: function(e){
					$.get("/tmp", {url: moreapi.$data.url, js: moreapi.$data.js}, function(data){
						moreapi.$data.result = data.result;
					})
				}
			}
		}
	</script>
	-->
</body>
</html>
